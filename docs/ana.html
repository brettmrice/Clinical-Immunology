<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ANA | IM</title>
<meta name="author" content="Brett M. Rice">
<meta name="description" content="The purpose of the ANA test is to answer a single, critical question: “Is this patient producing antibodies that are targeting components within the nucleus of their own cells?” The presence of...">
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="ANA | IM">
<meta property="og:type" content="book">
<meta property="og:description" content="The purpose of the ANA test is to answer a single, critical question: “Is this patient producing antibodies that are targeting components within the nucleus of their own cells?” The presence of...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ANA | IM">
<meta name="twitter:description" content="The purpose of the ANA test is to answer a single, critical question: “Is this patient producing antibodies that are targeting components within the nucleus of their own cells?” The presence of...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link rel="icon" type="image/png" href="imgs/favicon.png">
<meta name="google-adsense-account" content="ca-pub-1344282930858290">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JERRQQFPF4"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JERRQQFPF4');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="toc.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Immunology</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li><a class="" href="content-areas.html">Content Areas</a></li>
<li><a class="" href="author.html">Author</a></li>
<li><a class="" href="ascp-boc.html">ASCP BOC</a></li>
<li><a class="" href="reading-list.html">Reading List</a></li>
<li class="book-part">Principles</li>
<li><a class="" href="immune-system-physiology.html">Immune System Physiology</a></li>
<li><a class="" href="primary-secondary-response.html">Primary &amp; Secondary Response</a></li>
<li><a class="" href="macrophages-b-t-cells.html">Macrophages, B &amp; T Cells</a></li>
<li><a class="" href="genetics.html">Genetics</a></li>
<li><a class="" href="immunoglobulins.html">Immunoglobulins</a></li>
<li><a class="" href="classes-subclasses.html">Classes &amp; Subclasses</a></li>
<li><a class="" href="structure.html">Structure</a></li>
<li><a class="" href="biologic-physical-properties.html">Biologic &amp; Physical Properties</a></li>
<li><a class="" href="ag-ab-interactions.html">Ag-Ab Interactions</a></li>
<li><a class="" href="principles.html">Principles</a></li>
<li><a class="" href="testing.html">Testing</a></li>
<li><a class="" href="principles-1.html">Principles</a></li>
<li><a class="" href="methods.html">Methods</a></li>
<li><a class="" href="complement.html">Complement</a></li>
<li><a class="" href="pathway-mechanisms.html">Pathway Mechanisms</a></li>
<li><a class="" href="biologic-properties.html">Biologic Properties</a></li>
<li class="book-part">Diseases</li>
<li><a class="" href="autoimmunity.html">Autoimmunity</a></li>
<li><a class="" href="systemic.html">Systemic</a></li>
<li><a class="" href="organ-specific.html">Organ-Specific</a></li>
<li><a class="" href="hypersensitivity.html">Hypersensitivity</a></li>
<li><a class="" href="i-ii-iii-iv.html">I, II, III, &amp; IV</a></li>
<li><a class="" href="immunoproliferative-diseases.html">Immunoproliferative Diseases</a></li>
<li><a class="" href="monoclonal-gammopathies.html">Monoclonal Gammopathies</a></li>
<li><a class="" href="immunodeficiency.html">Immunodeficiency</a></li>
<li><a class="" href="hereditary.html">Hereditary</a></li>
<li><a class="" href="acquired.html">Acquired</a></li>
<li class="book-part">Transplantation</li>
<li><a class="" href="graft-versus-host-disease.html">Graft-versus-Host Disease</a></li>
<li><a class="" href="hla-typing.html">HLA Typing</a></li>
<li><a class="" href="tumor-immunology.html">Tumor Immunology</a></li>
<li class="book-part">Infectious Disease Serology</li>
<li><a class="" href="viral-pathogens.html">Viral Pathogens</a></li>
<li><a class="" href="t.-pallidum-b.-burgdorferi.html">T. pallidum &amp; B. burgdorferi</a></li>
<li><a class="" href="tuberculosis.html">Tuberculosis</a></li>
<li class="book-part">Serologic Procedures</li>
<li><a class="active" href="ana.html">ANA</a></li>
<li><a class="" href="thyroid-antibodies.html">Thyroid Antibodies</a></li>
<li><a class="" href="rheumatoid-factor.html">Rheumatoid Factor</a></li>
<li><a class="" href="labeled-immunoassays.html">Labeled Immunoassays</a></li>
<li><a class="" href="nontreponemal-syphilis.html">Nontreponemal Syphilis</a></li>
<li><a class="" href="treponemal-syphilis.html">Treponemal Syphilis</a></li>
<li><a class="" href="cytokine.html">Cytokine</a></li>
<li><a class="" href="immunofluorescence.html">Immunofluorescence</a></li>
<li class="book-part">Test Results</li>
<li><a class="" href="interpretation.html">Interpretation</a></li>
<li><a class="" href="confirmatory-testing.html">Confirmatory Testing</a></li>
<li><a class="" href="disease-correlation.html">Disease Correlation</a></li>
</ul>

        <div class="book-extra" style="display:none;">
          <p><a id="book-repo" href="https://github.com/brettmrice/Clinical-Immunology/blob">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="ana" class="section level1 unnumbered">
<h1>ANA<a class="anchor" aria-label="anchor" href="#ana"><i class="fas fa-link"></i></a>
</h1>
<p>The purpose of the ANA test is to answer a single, critical question: <strong>“Is this patient producing antibodies that are targeting components within the nucleus of their own cells?”</strong> The presence of these autoantibodies is a hallmark of systemic autoimmune disease, where the immune system loses its ability to tolerate its own nuclear material</p>
<p>While several methods exist, the gold standard—and the method you must know inside and out—is <strong>Indirect Immunofluorescence Antibody (IFA)</strong> testing. The substrate we use for this test has evolved, and the current standard is a human epithelial cell line called <strong>HEp-2</strong></p>
<div id="substrate-why-hep-2-cells-are-ideal" class="section level2 unnumbered">
<h2>
<strong>Substrate: Why HEp-2 Cells are Ideal</strong><a class="anchor" aria-label="anchor" href="#substrate-why-hep-2-cells-are-ideal"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<strong>Human Origin:</strong> Using human cells ensures that all the relevant human nuclear antigens are present</li>
<li>
<strong>Large Nuclei:</strong> HEp-2 cells are a cancerous cell line, and one of their key features is a very large nucleus-to-cytoplasm ratio. This makes the nucleus easy to see under the microscope</li>
<li>
<strong>Prominent Nucleoli:</strong> These cells have very distinct nucleoli within the nucleus, which is critical for identifying the “nucleolar” staining pattern</li>
<li>
<strong>Visible Mitotic Figures:</strong> Because these are rapidly dividing cancer cells, there are always cells on the slide that are caught in the middle of mitosis (cell division). This is extremely important because the appearance of the staining on these mitotic cells helps us identify specific patterns, like the “centromere” pattern</li>
</ul>
</div>
<div id="principle-of-the-test-indirect-immunofluorescence-antibody-ifa" class="section level2 unnumbered">
<h2>
<strong>Principle of the Test: Indirect Immunofluorescence Antibody (IFA)</strong><a class="anchor" aria-label="anchor" href="#principle-of-the-test-indirect-immunofluorescence-antibody-ifa"><i class="fas fa-link"></i></a>
</h2>
<p>The IFA method is a classic “two-step” or “sandwich” serological technique. We are using a fluorescently-labeled antibody to detect the patient’s own antibody</p>
<ol style="list-style-type: decimal">
<li><p><strong>Antigen is Fixed to the Slide</strong> The procedure starts with a pre-made microscope slide that has a monolayer of fixed HEp-2 cells attached to it. The fixing process makes the cell and nuclear membranes permeable, so antibodies can get inside and reach the nuclear antigens</p></li>
<li><p><strong>Step 1: Patient Antibody Binds to the Antigen</strong> The patient’s serum is diluted (typically starting at a 1:80 or 1:40 dilution) and incubated on the slide. If the patient’s serum contains ANAs, these antibodies (the <strong>primary antibody</strong>) will bind to their specific target antigens within the nuclei of the HEp-2 cells</p></li>
<li><p><strong>Washing Step</strong> The slide is washed to remove all unbound patient antibodies. Only the ANAs that have specifically bound to the nuclear components remain</p></li>
<li><p><strong>Step 2: Labeled Antibody Binds to the Patient Antibody</strong> A fluorescently-labeled <strong>secondary antibody</strong> is added. This is an “anti-human immunoglobulin” (usually targeting the Fc portion of IgG) that has been chemically conjugated to a <strong>fluorochrome</strong>, most commonly <strong>fluorescein isothiocyanate (FITC)</strong>, which glows a bright, apple-green color under a fluorescent microscope. This secondary antibody will bind to any of the patient’s antibodies that are stuck to the HEp-2 cells</p></li>
<li><p><strong>Final Washing Step</strong> The slide is washed again to remove any unbound fluorescent antibody</p></li>
<li><p><strong>Reading</strong> The slide is viewed under a dark-field fluorescent microscope. The technologist looks for a specific pattern of apple-green fluorescence within the nuclei of the interphase (resting) cells</p></li>
</ol>
</div>
<div id="interpretation-of-results-the-three-ts---titer-triage-and-telling-the-pattern" class="section level2 unnumbered">
<h2>
<strong>Interpretation of Results: The “Three T’s” - Titer, Triage, and Telling the Pattern</strong><a class="anchor" aria-label="anchor" href="#interpretation-of-results-the-three-ts---titer-triage-and-telling-the-pattern"><i class="fas fa-link"></i></a>
</h2>
<p>A positive ANA result is not a simple “yes” or “no.” A complete and clinically useful report includes two key pieces of information: the <strong>titer</strong> and the <strong>staining pattern</strong></p>
<div id="positive-or-negative" class="section level3 unnumbered">
<h3>
<strong>1. Positive or Negative?</strong><a class="anchor" aria-label="anchor" href="#positive-or-negative"><i class="fas fa-link"></i></a>
</h3>
<p>The first decision is a binary one. The technologist compares the fluorescence of the HEp-2 cell nuclei to a negative control. If the nuclei show a clear, discernible pattern of green fluorescence above the background, the test is <strong>positive</strong>. If there is no specific nuclear fluorescence, the test is <strong>negative</strong></p>
<ul>
<li>
<strong>Clinical Significance of a Negative Result:</strong> The ANA test is extremely <strong>sensitive</strong> for SLE (&gt;95%). This means a <strong>negative ANA result is a very powerful piece of evidence to help rule out a diagnosis of SLE</strong>
</li>
</ul>
</div>
<div id="titer-how-much-antibody-is-there" class="section level3 unnumbered">
<h3>
<strong>2. Titer: How Much Antibody is There?</strong><a class="anchor" aria-label="anchor" href="#titer-how-much-antibody-is-there"><i class="fas fa-link"></i></a>
</h3>
<p>If the screening dilution (e.g., 1:80) is positive, we must determine the <strong>titer</strong>. This is a semi-quantitative measure of the antibody concentration</p>
<ul>
<li>
<strong>The Procedure:</strong> We perform serial two-fold dilutions of the patient’s serum (1:80, 1:160, 1:320, 1:640, etc.) and test each dilution on a separate well</li>
<li>
<strong>The Report:</strong> The titer is reported as the <strong>reciprocal of the last dilution</strong> that still shows a clear, positive fluorescence. For example, if the 1:320 dilution is positive but the 1:640 dilution is negative, the reported titer is <strong>1:320</strong>
</li>
<li>
<strong>Clinical Significance:</strong> A higher titer is generally more clinically significant and more likely to be associated with an active autoimmune disease. Low titers (e.g., 1:80) can be seen in a small percentage of healthy individuals, especially the elderly</li>
</ul>
</div>
<div id="staining-pattern-what-is-the-antibody-targeting" class="section level3 unnumbered">
<h3>
<strong>3. Staining Pattern: What is the Antibody Targeting?</strong><a class="anchor" aria-label="anchor" href="#staining-pattern-what-is-the-antibody-targeting"><i class="fas fa-link"></i></a>
</h3>
<p>This is the most skillful part of the test. The pattern of the fluorescence within the nucleus gives the physician a critical clue as to which specific nuclear antigen the autoantibody is targeting. This helps guide the more specific (and expensive) follow-up testing</p>
<ul>
<li>
<strong>Homogeneous (or Diffuse) Pattern</strong>
<ul>
<li>
<strong>Appearance:</strong> The entire nucleus of the interphase cells stains smoothly and evenly. The chromosomes of the mitotic cells will also stain very brightly</li>
<li>
<strong>Associated Antigens:</strong> Often associated with antibodies to <strong>dsDNA</strong> and <strong>histones</strong>
</li>
<li>
<strong>Disease Association:</strong> This is the classic pattern seen in <strong>SLE</strong> and is also the hallmark of <strong>drug-induced lupus</strong>
</li>
</ul>
</li>
<li>
<strong>Speckled Pattern</strong>
<ul>
<li>
<strong>Appearance:</strong> The nucleus is filled with many fine or coarse points of light. It looks “speckled.” Crucially, the chromosomes of the mitotic cells <strong>do not</strong> stain</li>
<li>
<strong>Associated Antigens:</strong> This is a broad category caused by antibodies against a group of antigens called <strong>Extractable Nuclear Antigens (ENAs)</strong>. This includes <strong>Smith (Sm), RNP, SSA/Ro, SSB/La</strong>
</li>
<li>
<strong>Disease Association:</strong> This is the <strong>most common pattern</strong> seen overall and can be associated with <strong>SLE, Sjögren’s syndrome, scleroderma</strong>, and <strong>mixed connective tissue disease (MCTD)</strong>
</li>
</ul>
</li>
<li>
<strong>Nucleolar Pattern</strong>
<ul>
<li>
<strong>Appearance:</strong> Only the 2-3 large nucleoli within the nucleus stain, appearing as large, clumpy points of light</li>
<li>
<strong>Associated Antigens:</strong> Antibodies to fibrillarin</li>
<li>
<strong>Disease Association:</strong> This pattern is highly suggestive of <strong>scleroderma</strong>
</li>
</ul>
</li>
<li>
<strong>Centromere Pattern</strong>
<ul>
<li>
<strong>Appearance:</strong> In the interphase cells, this looks like a discrete speckled pattern with about 46 separate speckles. The definitive clue comes from the <strong>mitotic cells</strong>: the staining localizes exclusively to the centromeres of the condensed chromosomes, which are lined up along the metaphase plate</li>
<li>
<strong>Associated Antigens:</strong> Antibodies to the centromere protein-B (CENP-B)</li>
<li>
<strong>Disease Association:</strong> This pattern is highly <strong>specific</strong> for a limited form of scleroderma known as <strong>CREST syndrome</strong>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="final-step-the-enadsdna-follow-up" class="section level2 unnumbered">
<h2>
<strong>Final Step: The ENA/dsDNA Follow-up</strong><a class="anchor" aria-label="anchor" href="#final-step-the-enadsdna-follow-up"><i class="fas fa-link"></i></a>
</h2>
<p>A positive ANA by IFA is a <strong>screening test</strong>. It is not diagnostic on its own. The titer and pattern are used to guide the physician to order more specific tests, usually an <strong>ENA (Extractable Nuclear Antigen) panel</strong> or an <strong>anti-dsDNA</strong> test, which are performed by ELISA or other immunoassay. These tests will identify the specific autoantibody (e.g., anti-Sm, anti-SSA) and confirm the diagnosis</p>

</div>
</div>
<!-- Scoll to TOC element -->
<script defer>
  // adjust TOC scroll to selected element/topic
  function scroll_to_element() {
    header_height = document.getElementsByTagName('header')[0].offsetHeight/2;
    toc_element_position = document.querySelector('.book-toc > li > a.active').offsetTop;
    if(document.querySelector('.book-toc > li > a.active').offsetLeft == 0) {
      toc_element_position1 = document.querySelector('.book-toc > li > a.active').offsetParent.offsetTop;
      toc_element_position2 = document.querySelector('.book-toc > li > a.active').offsetParent.offsetHeight;
      toc_element_position = toc_element_position1 + toc_element_position2;
    }
    document.getElementsByTagName('header')[0].scrollTo(0, toc_element_position - header_height, 'smooth');
  }
  window.onload = scroll_to_element();

  // hide those labes that take up multiple lines
  sections = [];
  topics = [];
  function hide_label() {
    // sections
    document
      .querySelectorAll('.book-toc > li')
      .forEach(elem => {
        window
          .getComputedStyle(elem)
          .textTransform === "uppercase"
          &&
          elem.classList
          .contains('book-part')
          ? sections.push(elem)
          : '';
      });

    // topics
    document
      .querySelectorAll('.book-toc > li')
      .forEach(elem => {
        window
          .getComputedStyle(elem)
          .textTransform === "uppercase"
          &&
          !elem.classList
          .contains('book-part')
          ? topics.push(elem)
          : '';
      });
  }
  hide_label();
  head = document.getElementsByTagName('header')[0];
  head.addEventListener('scroll', () => {
    // sections
    count_sections = 0;
    prev_sections_elem = '';
    sections
      .forEach((elem) => {
      if(count_sections === 0) {
        initial_y = elem.getBoundingClientRect().y + 20;
        count_sections = 1;
      } else {
        if(elem.getBoundingClientRect().y < initial_y) {
          prev_sections_elem.classList.add('hide_label');
        } else {
          prev_sections_elem.classList.remove('hide_label');
        }
      }
      prev_sections_elem = elem;
    });
    // topics
    count_topics = 0;
    prev_topic_elem = '';
    topics
      .forEach((elem) => {
      if(count_topics === 0) {
        initial_y = elem.getBoundingClientRect().y + 20;
        count_topics = 1;
      } else {
        if(elem.getBoundingClientRect().y < initial_y) {
          prev_topic_elem.classList.add('hide_label');
        } else {
          prev_topic_elem.classList.remove('hide_label');
        }
      }
      prev_topic_elem = elem;
    });
  });
</script><div class="chapter-nav">
<div class="prev"><a href="tuberculosis.html">Tuberculosis</a></div>
<div class="next"><a href="thyroid-antibodies.html">Thyroid Antibodies</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#ana">ANA</a></li>
<li><a class="nav-link" href="#substrate-why-hep-2-cells-are-ideal">Substrate: Why HEp-2 Cells are Ideal</a></li>
<li><a class="nav-link" href="#principle-of-the-test-indirect-immunofluorescence-antibody-ifa">Principle of the Test: Indirect Immunofluorescence Antibody (IFA)</a></li>
<li>
<a class="nav-link" href="#interpretation-of-results-the-three-ts---titer-triage-and-telling-the-pattern">Interpretation of Results: The “Three T’s” - Titer, Triage, and Telling the Pattern</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#positive-or-negative">1. Positive or Negative?</a></li>
<li><a class="nav-link" href="#titer-how-much-antibody-is-there">2. Titer: How Much Antibody is There?</a></li>
<li><a class="nav-link" href="#staining-pattern-what-is-the-antibody-targeting">3. Staining Pattern: What is the Antibody Targeting?</a></li>
</ul>
</li>
<li><a class="nav-link" href="#final-step-the-enadsdna-follow-up">Final Step: The ENA/dsDNA Follow-up</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/brettmrice/Clinical-Immunology/blob/blob/main/Rmd/05-A-00.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/brettmrice/Clinical-Immunology/blob/edit/main/Rmd/05-A-00.Rmd" target="_blank">Edit this page <i class="fab fa-github"></i></a></li>
          <li><a id="buymeacoffee" href="https://buymeacoffee.com/bloodcellid" target="_blank">NEED Caffeine</a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
