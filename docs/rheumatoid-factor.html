<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Rheumatoid Factor | IM</title>
<meta name="author" content="Brett M. Rice">
<meta name="description" content="Rheumatoid Factor is the original serological marker for Rheumatoid Arthritis (RA), a chronic, systemic autoimmune disease that primarily attacks the synovium (the lining of the joints), leading...">
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="Rheumatoid Factor | IM">
<meta property="og:type" content="book">
<meta property="og:description" content="Rheumatoid Factor is the original serological marker for Rheumatoid Arthritis (RA), a chronic, systemic autoimmune disease that primarily attacks the synovium (the lining of the joints), leading...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rheumatoid Factor | IM">
<meta name="twitter:description" content="Rheumatoid Factor is the original serological marker for Rheumatoid Arthritis (RA), a chronic, systemic autoimmune disease that primarily attacks the synovium (the lining of the joints), leading...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link rel="icon" type="image/png" href="imgs/favicon.png">
<meta name="google-adsense-account" content="ca-pub-1344282930858290">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JERRQQFPF4"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-JERRQQFPF4');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="toc.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Immunology</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li><a class="" href="content-areas.html">Content Areas</a></li>
<li><a class="" href="author.html">Author</a></li>
<li><a class="" href="ascp-boc.html">ASCP BOC</a></li>
<li><a class="" href="reading-list.html">Reading List</a></li>
<li class="book-part">Principles</li>
<li><a class="" href="immune-system-physiology.html">Immune System Physiology</a></li>
<li><a class="" href="primary-secondary-response.html">Primary &amp; Secondary Response</a></li>
<li><a class="" href="macrophages-b-t-cells.html">Macrophages, B &amp; T Cells</a></li>
<li><a class="" href="genetics.html">Genetics</a></li>
<li><a class="" href="immunoglobulins.html">Immunoglobulins</a></li>
<li><a class="" href="classes-subclasses.html">Classes &amp; Subclasses</a></li>
<li><a class="" href="structure.html">Structure</a></li>
<li><a class="" href="biologic-physical-properties.html">Biologic &amp; Physical Properties</a></li>
<li><a class="" href="ag-ab-interactions.html">Ag-Ab Interactions</a></li>
<li><a class="" href="principles.html">Principles</a></li>
<li><a class="" href="testing.html">Testing</a></li>
<li><a class="" href="principles-1.html">Principles</a></li>
<li><a class="" href="methods.html">Methods</a></li>
<li><a class="" href="complement.html">Complement</a></li>
<li><a class="" href="pathway-mechanisms.html">Pathway Mechanisms</a></li>
<li><a class="" href="biologic-properties.html">Biologic Properties</a></li>
<li class="book-part">Diseases</li>
<li><a class="" href="autoimmunity.html">Autoimmunity</a></li>
<li><a class="" href="systemic.html">Systemic</a></li>
<li><a class="" href="organ-specific.html">Organ-Specific</a></li>
<li><a class="" href="hypersensitivity.html">Hypersensitivity</a></li>
<li><a class="" href="i-ii-iii-iv.html">I, II, III, &amp; IV</a></li>
<li><a class="" href="monoclonal-gammopathies.html">Monoclonal Gammopathies</a></li>
<li><a class="" href="monoclonal-gammopathies-1.html">Monoclonal Gammopathies</a></li>
<li><a class="" href="immunodeficiency.html">Immunodeficiency</a></li>
<li><a class="" href="hereditary.html">Hereditary</a></li>
<li><a class="" href="acquired.html">Acquired</a></li>
<li class="book-part">Transplantation</li>
<li><a class="" href="graft-versus-host-disease.html">Graft-versus-Host Disease</a></li>
<li><a class="" href="hla-typing.html">HLA Typing</a></li>
<li><a class="" href="tumor-immunology.html">Tumor Immunology</a></li>
<li class="book-part">Infectious Disease Serology</li>
<li><a class="" href="viral-pathogens.html">Viral Pathogens</a></li>
<li><a class="" href="t.-pallidum-b.-burgdorferi.html">T. pallidum &amp; B. burgdorferi</a></li>
<li><a class="" href="tuberculosis.html">Tuberculosis</a></li>
<li class="book-part">Serologic Procedures</li>
<li><a class="" href="ana.html">ANA</a></li>
<li><a class="" href="thyroid-antibodies.html">Thyroid Antibodies</a></li>
<li><a class="active" href="rheumatoid-factor.html">Rheumatoid Factor</a></li>
<li><a class="" href="labeled-immunoassays.html">Labeled Immunoassays</a></li>
<li><a class="" href="nontreponemal-syphilis.html">Nontreponemal Syphilis</a></li>
<li><a class="" href="treponemal-syphilis.html">Treponemal Syphilis</a></li>
<li><a class="" href="cytokine.html">Cytokine</a></li>
<li><a class="" href="immunofluorescence.html">Immunofluorescence</a></li>
<li class="book-part">Test Results</li>
<li><a class="" href="interpretation.html">Interpretation</a></li>
<li><a class="" href="confirmatory-testing.html">Confirmatory Testing</a></li>
<li><a class="" href="disease-correlation.html">Disease Correlation</a></li>
</ul>

        <div class="book-extra" style="display:none;">
          <p><a id="book-repo" href="https://github.com/brettmrice/Clinical-Immunology/blob">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="rheumatoid-factor" class="section level1 unnumbered">
<h1>Rheumatoid Factor<a class="anchor" aria-label="anchor" href="#rheumatoid-factor"><i class="fas fa-link"></i></a>
</h1>
<p>Rheumatoid Factor is the original serological marker for <strong>Rheumatoid Arthritis (RA)</strong>, a chronic, systemic autoimmune disease that primarily attacks the synovium (the lining of the joints), leading to painful inflammation, joint destruction, and disability. The discovery of RF was a landmark event that proved RA was an autoimmune disease, a condition of immunological “friendly fire.”</p>
<div id="the-target-what-exactly-is-rheumatoid-factor" class="section level2 unnumbered">
<h2>
<strong>The Target: What Exactly IS Rheumatoid Factor?</strong><a class="anchor" aria-label="anchor" href="#the-target-what-exactly-is-rheumatoid-factor"><i class="fas fa-link"></i></a>
</h2>
<p>This is the most important concept to master. Rheumatoid Factor is an <strong>autoantibody</strong>—an antibody that mistakenly targets one of the body’s own proteins. But what makes RF unique is that its target is <em>another antibody</em></p>
<ul>
<li>
<strong>Definition:</strong> Rheumatoid Factor is an antibody (most commonly of the <strong>IgM</strong> class) that is directed against the <strong>Fc portion</strong> of the patient’s own <strong>IgG</strong> molecules</li>
<li>
<strong>Analogy:</strong> Imagine your IgG antibodies are soldiers. The Fc portion is the “handle” or base of the Y-shaped antibody molecule. RF is like a second type of soldier (an IgM) that comes along and, instead of fighting the enemy, starts grabbing the handles of its own IgG soldiers, tying them up and rendering them useless, or worse, turning them into a problem</li>
<li>
<strong>Isotypes:</strong> While the classic RF is an <strong>IgM</strong> autoantibody (and the one most commonly measured), RF can also exist as IgG or IgA isotypes. These are less frequently tested for but can also be clinically significant</li>
</ul>
</div>
<div id="pathophysiology-how-rf-causes-damage" class="section level2 unnumbered">
<h2>
<strong>Pathophysiology: How RF Causes Damage</strong><a class="anchor" aria-label="anchor" href="#pathophysiology-how-rf-causes-damage"><i class="fas fa-link"></i></a>
</h2>
<p>The presence of RF is not just a marker; it actively contributes to the disease process in the joints. This is a classic example of a <strong>Type III Hypersensitivity</strong> reaction</p>
<ol style="list-style-type: decimal">
<li>
<strong>Immune Complex Formation</strong> In the joint space, the IgM Rheumatoid Factor binds to the patient’s normal IgG, forming large, cage-like <strong>immune complexes</strong>
</li>
<li>
<strong>Complement Activation</strong> These immune complexes are potent activators of the <strong>classical complement pathway</strong>. The resulting cascade generates inflammatory byproducts (like C3a and C5a)</li>
<li>
<strong>Inflammation</strong> C3a and C5a are powerful chemoattractants that call in a swarm of neutrophils and other inflammatory cells into the joint</li>
<li>
<strong>Tissue Damage</strong> These frustrated neutrophils release their destructive lysosomal enzymes and reactive oxygen species, causing significant damage to the cartilage and bone of the joint, leading to the characteristic pain, swelling, and erosion seen in RA</li>
</ol>
</div>
<div id="laboratory-detection-methods-from-clumps-to-light-scatter" class="section level2 unnumbered">
<h2>
<strong>Laboratory Detection Methods: From Clumps to Light Scatter</strong><a class="anchor" aria-label="anchor" href="#laboratory-detection-methods-from-clumps-to-light-scatter"><i class="fas fa-link"></i></a>
</h2>
<p>We have several ways to detect RF in the lab, ranging from classic manual methods to modern automated immunoassays</p>
<div id="latex-agglutination-classic-screening-method" class="section level3 unnumbered">
<h3>
<strong>1. Latex Agglutination (Classic Screening Method)</strong><a class="anchor" aria-label="anchor" href="#latex-agglutination-classic-screening-method"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<strong>The Principle:</strong> This is a rapid, qualitative or semi-quantitative slide test. The reagent consists of microscopic <strong>latex beads</strong> that have been coated with purified human <strong>IgG</strong> (this is the antigen)</li>
<li>
<strong>The Procedure:</strong> A drop of the patient’s serum is mixed with a drop of the latex reagent on a slide</li>
<li>
<strong>The Result</strong>
<ul>
<li>
<strong>Positive:</strong> If the patient’s serum contains IgM Rheumatoid Factor, the large, pentameric IgM molecules will bind to the IgG on multiple latex beads, cross-linking them and causing them to clump together in a process called <strong>agglutination</strong>. This is visible to the naked eye</li>
<li>
<strong>Negative:</strong> If no RF is present, the mixture remains smooth and milky</li>
</ul>
</li>
<li>
<strong>Quantitation:</strong> By performing serial dilutions of the patient’s serum, we can determine a <strong>titer</strong>, which is the reciprocal of the last dilution to show visible agglutination</li>
</ul>
</div>
<div id="nephelometry-and-turbidimetry-modern-quantitative-methods" class="section level3 unnumbered">
<h3>
<strong>2. Nephelometry and Turbidimetry (Modern Quantitative Methods)</strong><a class="anchor" aria-label="anchor" href="#nephelometry-and-turbidimetry-modern-quantitative-methods"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<strong>The Principle:</strong> These are automated methods performed on chemistry or immunology analyzers. Instead of using latex beads, the patient’s serum is mixed with a reagent of soluble, purified human IgG</li>
<li>
<strong>The Procedure:</strong> When RF in the serum binds to the IgG antigen, it forms insoluble immune complexes that make the solution cloudy. A beam of light is passed through the cuvette
<ul>
<li>
<strong>Nephelometry:</strong> measures the amount of <strong>light that is scattered</strong> at an angle by the immune complexes</li>
<li>
<strong>Turbidimetry:</strong> measures the amount of <strong>light that is blocked</strong> (or the decrease in light that passes directly through) by the immune complexes</li>
</ul>
</li>
<li>
<strong>The Result:</strong> The amount of light scatter or blockage is directly proportional to the concentration of RF in the sample. The result is reported as a quantitative value in International Units per milliliter (IU/mL), with a specific cut-off for positivity (e.g., &gt;14 IU/mL). This is far more objective and reproducible than a manual agglutination test</li>
</ul>
</div>
<div id="enzyme-linked-immunosorbent-assay-elisa" class="section level3 unnumbered">
<h3>
<strong>3. Enzyme-Linked Immunosorbent Assay (ELISA)</strong><a class="anchor" aria-label="anchor" href="#enzyme-linked-immunosorbent-assay-elisa"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<strong>The Principle:</strong> The wells of a microtiter plate are coated with IgG. Patient serum is added, and any RF present binds to the coated IgG. A secondary, enzyme-labeled antibody is then used to detect the bound RF, producing a color change that is read by a spectrophotometer</li>
<li>
<strong>The Advantage:</strong> ELISA is highly sensitive and is the best method for specifically detecting the different isotypes of RF (e.g., IgA-RF or IgG-RF) if needed</li>
</ul>
</div>
</div>
<div id="interpretation-and-clinical-utility-the-crucial-caveats" class="section level2 unnumbered">
<h2>
<strong>Interpretation and Clinical Utility: The Crucial Caveats</strong><a class="anchor" aria-label="anchor" href="#interpretation-and-clinical-utility-the-crucial-caveats"><i class="fas fa-link"></i></a>
</h2>
<p>This is the most important section for an MLS. A positive RF test <strong>does not</strong> equal a diagnosis of Rheumatoid Arthritis</p>
<ul>
<li><p><strong>Sensitivity:</strong> The test is not perfectly sensitive. About <strong>20-30% of patients with clinically confirmed RA are RF-negative</strong>. This is known as “seronegative rheumatoid arthritis.” Therefore, a negative RF test <strong>cannot rule out</strong> RA</p></li>
<li>
<p><strong>Specificity:</strong> The test is notoriously <strong>not specific</strong>. A positive RF result can be found in a variety of other conditions, including:</p>
<ul>
<li>
<strong>Other Autoimmune Diseases:</strong> Especially <strong>Sjögren’s Syndrome</strong> (where it is found in &gt;75% of patients), SLE, and Scleroderma</li>
<li>
<strong>Chronic Infections:</strong> Hepatitis C, tuberculosis, and endocarditis can all stimulate RF production</li>
<li><strong>Malignancies.</strong></li>
<li>
<strong>Healthy Elderly Population:</strong> A low-titer positive RF can be found in up to 15% of healthy older individuals</li>
</ul>
</li>
</ul>
</div>
<div id="the-modern-partner-anti-ccp-the-more-specific-test" class="section level2 unnumbered">
<h2>
<strong>The Modern Partner: Anti-CCP, The More Specific Test</strong><a class="anchor" aria-label="anchor" href="#the-modern-partner-anti-ccp-the-more-specific-test"><i class="fas fa-link"></i></a>
</h2>
<p>Because of the poor specificity of Rheumatoid Factor, a second, far more specific autoantibody test is now considered essential for the diagnosis of RA</p>
<ul>
<li>
<strong>Anti-Cyclic Citrullinated Peptide (Anti-CCP) Antibody:</strong> This autoantibody is highly <strong>specific</strong> for Rheumatoid Arthritis (specificity &gt;95%). A positive Anti-CCP test is a very strong indicator of RA</li>
</ul>
<p>Today, rheumatologists almost always order <strong>both RF and Anti-CCP</strong> tests together. A patient who is positive for both has a very high probability of having RA, and it often predicts a more aggressive course of disease</p>

</div>
</div>
<!-- Scoll to TOC element -->
<script defer>
  // adjust TOC scroll to selected element/topic
  function scroll_to_element() {
    header_height = document.getElementsByTagName('header')[0].offsetHeight/2;
    toc_element_position = document.querySelector('.book-toc > li > a.active').offsetTop;
    if(document.querySelector('.book-toc > li > a.active').offsetLeft == 0) {
      toc_element_position1 = document.querySelector('.book-toc > li > a.active').offsetParent.offsetTop;
      toc_element_position2 = document.querySelector('.book-toc > li > a.active').offsetParent.offsetHeight;
      toc_element_position = toc_element_position1 + toc_element_position2;
    }
    document.getElementsByTagName('header')[0].scrollTo(0, toc_element_position - header_height, 'smooth');
  }
  window.onload = scroll_to_element();

  // hide those labes that take up multiple lines
  sections = [];
  topics = [];
  function hide_label() {
    // sections
    document
      .querySelectorAll('.book-toc > li')
      .forEach(elem => {
        window
          .getComputedStyle(elem)
          .textTransform === "uppercase"
          &&
          elem.classList
          .contains('book-part')
          ? sections.push(elem)
          : '';
      });

    // topics
    document
      .querySelectorAll('.book-toc > li')
      .forEach(elem => {
        window
          .getComputedStyle(elem)
          .textTransform === "uppercase"
          &&
          !elem.classList
          .contains('book-part')
          ? topics.push(elem)
          : '';
      });
  }
  hide_label();
  head = document.getElementsByTagName('header')[0];
  head.addEventListener('scroll', () => {
    // sections
    count_sections = 0;
    prev_sections_elem = '';
    sections
      .forEach((elem) => {
      if(count_sections === 0) {
        initial_y = elem.getBoundingClientRect().y + 20;
        count_sections = 1;
      } else {
        if(elem.getBoundingClientRect().y < initial_y) {
          prev_sections_elem.classList.add('hide_label');
        } else {
          prev_sections_elem.classList.remove('hide_label');
        }
      }
      prev_sections_elem = elem;
    });
    // topics
    count_topics = 0;
    prev_topic_elem = '';
    topics
      .forEach((elem) => {
      if(count_topics === 0) {
        initial_y = elem.getBoundingClientRect().y + 20;
        count_topics = 1;
      } else {
        if(elem.getBoundingClientRect().y < initial_y) {
          prev_topic_elem.classList.add('hide_label');
        } else {
          prev_topic_elem.classList.remove('hide_label');
        }
      }
      prev_topic_elem = elem;
    });
  });
</script><div class="chapter-nav">
<div class="prev"><a href="thyroid-antibodies.html">Thyroid Antibodies</a></div>
<div class="next"><a href="labeled-immunoassays.html">Labeled Immunoassays</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#rheumatoid-factor">Rheumatoid Factor</a></li>
<li><a class="nav-link" href="#the-target-what-exactly-is-rheumatoid-factor">The Target: What Exactly IS Rheumatoid Factor?</a></li>
<li><a class="nav-link" href="#pathophysiology-how-rf-causes-damage">Pathophysiology: How RF Causes Damage</a></li>
<li>
<a class="nav-link" href="#laboratory-detection-methods-from-clumps-to-light-scatter">Laboratory Detection Methods: From Clumps to Light Scatter</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#latex-agglutination-classic-screening-method">1. Latex Agglutination (Classic Screening Method)</a></li>
<li><a class="nav-link" href="#nephelometry-and-turbidimetry-modern-quantitative-methods">2. Nephelometry and Turbidimetry (Modern Quantitative Methods)</a></li>
<li><a class="nav-link" href="#enzyme-linked-immunosorbent-assay-elisa">3. Enzyme-Linked Immunosorbent Assay (ELISA)</a></li>
</ul>
</li>
<li><a class="nav-link" href="#interpretation-and-clinical-utility-the-crucial-caveats">Interpretation and Clinical Utility: The Crucial Caveats</a></li>
<li><a class="nav-link" href="#the-modern-partner-anti-ccp-the-more-specific-test">The Modern Partner: Anti-CCP, The More Specific Test</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/brettmrice/Clinical-Immunology/blob/blob/main/Rmd/05-C-00.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/brettmrice/Clinical-Immunology/blob/edit/main/Rmd/05-C-00.Rmd" target="_blank">Edit this page <i class="fab fa-github"></i></a></li>
          <li><a id="buymeacoffee" href="https://buymeacoffee.com/bloodcellid" target="_blank">NEED Caffeine</a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
